<!DOCTYPE html>
<html>
<head>
	<title>Gruntfile boilerplate generator</title>
	<link rel="stylesheet" href="http://bootswatch.com/yeti/bootstrap.min.css">
	<link rel="stylesheet" href="css/autocomplete.css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.17/angular.min.js"></script>
	<script src="js/autocomplete.js"></script>
	<script src="js/filesaver.js"></script>
	<script src="js/gruntfile-gen.js"></script>
	<style>
		pre {
			font-size: 0.75em;
			tab-size: 3;
		}
	</style>
</head>
<body ng-app="gruntfile-gen">
	<div class="container" ng-controller="PackageCtrl">
		<div class="col-md-7">
			<div class="page-header">
				<h1>Gruntfile boilerplate generator</h1>
			</div>
			<form role="form">
				<div class="row">
					<div class="form-group col-md-6">
						<label>App title</label>
						<input type="text" class="form-control" ng-model="settings.title" />
					</div>

					<div class="form-group col-md-3">
						<label>App version</label>
						<input type="text" class="form-control" ng-model="settings.appVersion" />
					</div>
					<div class="form-group col-md-3">
						<label>Grunt version</label>
						<input type="text" class="form-control" ng-model="settings.gruntVersion" />
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-4">
						<label>File field type</label>
						<select class="form-control">
							<option>type 1</option>
							<option>type 2</option>
						</select>
					</div>
					<div class="form-group col-md-4">
						<label>Indent using</label>
						<select class="form-control" ng-model="settings.indentation">
							<option value="tabs" selected>tabs</option>
							<option value="spaces">spaces</option>
						</select>
					</div>
					<div class="form-group col-md-4">
						<label>Number of spaces</label>
						<input type="text" class="form-control" value="4" ng-disabled="settings.indentation == 'tabs'" />
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-12">
						<label>Add package</label>
						<autocomplete on-select="addPackage" click-activation="true" ng-model="selectedPackage" attr-placeholder="Start typing..." data="names" attr-input-class="form-control" />
					</div>
				</div>
			</form>

			<div class="panel panel-default" ng-repeat="package in selectedPackages">
				<div class="panel-heading">
					<h1 class="panel-title"><a href="{{ package.url }}" target="_blank">{{ package.name }}</a><span ng-click="removePackage(package.name)" class="glyphicon glyphicon-remove pull-right"></span></h1>
				</div>
			</div>
		</div>

		<div class="col-md-5">
			<h3>package.json<a href="#" ng-click="savePackage()" class="pull-right"><span class="glyphicon glyphicon-download-alt"></span></a></h3>
			<pre id="package">
{
	'name' : '{{ settings.getName() }}',
	'title' : '{{ settings.title }}',
	'version' : '{{ settings.appVersion }}',
	'devDependencies': {
		'grunt': '{{ settings.gruntVersion }}'
		<span ng-repeat="package in selectedPackages">'{{ package.name }}': '*'<span ng-if="!$last">,
		</span></span>
	}
}
</pre>

	<h3>Gruntfile.js<a href="#" ng-click="saveGruntfile()" class="pull-right"><span class="glyphicon glyphicon-download-alt"></span></a></h3>
	<pre id="gruntfile">
module.exports = function(grunt) {
	grunt.initConfig({
		pkg: grunt.file.readJSON('package.json'),
		<span ng-repeat="package in selectedPackages">
		{{ getTaskName(package.name) }}: {
			files: {
				'destination': ['source']
			},
			options: {

			}
		}<span ng-if="!$last">,</span></span>

	});

	<span ng-repeat="package in selectedPackages">grunt.loadNpmTasks('{{ package.name }}');
	</span>
	grunt.registerTask('default', [<span ng-repeat="package in selectedPackages">'{{ getTaskName(package.name) }}'<span ng-if="!$last">, </span></span>]);
};
</pre>
</div>

</div>
</body>
</html>